(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{114:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(26),l=a(16),o=a(70),s=a(27),i=a(11),u=a(64),m=a(7),d=a(44),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(m.a)(Object(m.a)({},e),{},{isAuthenticated:!d(t.json),user:t.json});case"SET_CUSTOMERS":return Object(m.a)(Object(m.a)({},e),{},{customersFound:!d(t.json),customersData:t.json});case"SET_WALLET":return Object(m.a)(Object(m.a)({},e),{},{isWalletLoaded:!d(t.json),wallet:t.json});case"SET_WALLET1":return Object(m.a)(Object(m.a)({},e),{},{isWallet1Loaded:!d(t.json),wallet1:t.json});case"SET_CURRENT_USER_FAILED":return Object(m.a)(Object(m.a)({},e),{},{loginError:t.error,user:t.json});default:return e}},b=a(44),E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PRODUCTS":return Object(m.a)(Object(m.a)({},e),{},{productsFound:!b(t.json),products:t.json});default:return e}},p=a(44),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ORDERS":return Object(m.a)(Object(m.a)({},e),{},{ordersFound:!p(t.json),orders:t.json});default:return e}},g=Object(s.c)({userReducer:f,productsReducer:E,ordersReducer:h}),v=a(12),w=a.n(v),O=a(14),j=a(18),y=a.n(j),x=function(e){e?y.a.defaults.headers.common.Authorization=e:delete y.a.defaults.headers.common.Authorization},N=a(13),C=a.n(N),S=function(e){return y.a.post("https://t1a2l3h4a5t5e3st1223.herokuapp.com/api/user/register",e)},k=function(e){return y.a.post("https://t1a2l3h4a5t5e3st1223.herokuapp.com/api/user/login",e)},P=function(e){return y.a.post("https://t1a2l3h4a5t5e3st1223.herokuapp.com/api/user/forgot",e)},T=function(e){return y.a.post("https://t1a2l3h4a5t5e3st1223.herokuapp.com/api/user/changePassword",e)},R=function(e){return y.a.post("https://t1a2l3h4a5t5e3st1223.herokuapp.com/api/user/verifyEmail",e)},B=function(e){return y.a.post("https://t1a2l3h4a5t5e3st1223.herokuapp.com/api/user/sendVerificationEmail",e)},A=function(e){return y.a.post("https://t1a2l3h4a5t5e3st1223.herokuapp.com/api/user/loadWallet",e)},L=function(){return y.a.get("https://t1a2l3h4a5t5e3st1223.herokuapp.com/api/products")},D=function(e){return y.a.post("https://t1a2l3h4a5t5e3st1223.herokuapp.com/api/order/create",e)},U=function(e){return y.a.post("https://t1a2l3h4a5t5e3st1223.herokuapp.com/api/order",e)},I=function(e){return y.a.post("https://t1a2l3h4a5t5e3st1223.herokuapp.com/api/order/refund",e)},_=function(e){return y.a.post("https://t1a2l3h4a5t5e3st1223.herokuapp.com/api/user",e)},F=function(e){return y.a.post("https://t1a2l3h4a5t5e3st1223.herokuapp.com/api/user/getWallet",e)},W=function(e){return y.a.post("https://t1a2l3h4a5t5e3st1223.herokuapp.com/api/user/delete",e)},K=function(e){return y.a.post("https://t1a2l3h4a5t5e3st1223.herokuapp.com/api/deposit/balance",e)},V=w.a.mark(z),G=w.a.mark(J),q=w.a.mark(Q),Y=w.a.mark(X),H=w.a.mark(Z),M=w.a.mark($);function z(e){var t;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,k(e.userData).then((function(e){var t=e.data.token;return localStorage.setItem("jwtToken",t),x(t),C()(t)})).catch((function(e){throw e.response.data}));case 3:return t=a.sent,a.next=6,Object(O.b)({type:"SET_CURRENT_USER",json:t});case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(0),a.next=12,Object(O.b)({type:"SET_CURRENT_USER_FAILED",error:a.t0});case 12:case"end":return a.stop()}}),V,null,[[0,8]])}function J(e){var t;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,F(e.userData).then((function(e){return e.data})).catch((function(e){throw e.response.data}));case 3:return t=a.sent,a.next=6,Object(O.b)({type:"SET_WALLET1",json:t});case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(0),a.next=12,Object(O.b)({type:"SET_CURRENT_USER_FAILED",error:a.t0});case 12:case"end":return a.stop()}}),G,null,[[0,8]])}function Q(e){var t;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,_(e.userData).then((function(e){return e.data})).catch((function(e){throw e.response.data}));case 3:return t=a.sent,a.next=6,Object(O.b)({type:"SET_CUSTOMERS",json:t});case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(0),a.next=12,Object(O.b)({type:"SET_CURRENT_USER_FAILED",error:a.t0});case 12:case"end":return a.stop()}}),q,null,[[0,8]])}function X(e){var t;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,A(e).then((function(e){return e.data})).catch((function(e){throw e.response.data}));case 3:return t=a.sent,a.next=6,Object(O.b)({type:"SET_WALLET",json:t});case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(0),a.next=12,Object(O.b)({type:"SET_CURRENT_USER_FAILED",error:a.t0});case 12:case"end":return a.stop()}}),Y,null,[[0,8]])}function Z(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.removeItem("jwtToken"),x(!1),e.next=4,Object(O.b)({type:"SET_CURRENT_USER",json:{}});case 4:case"end":return e.stop()}}),H)}function $(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.c)("LOGIN_USER",z);case 2:return e.next=4,Object(O.c)("GET_CUSTOMERS",Q);case 4:return e.next=6,Object(O.c)("LOAD_WALLET",X);case 6:return e.next=8,Object(O.c)("GET_WALLET1",J);case 8:return e.next=10,Object(O.c)("LOGOUT_USER",Z);case 10:case"end":return e.stop()}}),M)}var ee=w.a.mark(ae),te=w.a.mark(ne);function ae(){var e;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L().then((function(e){return e})).catch((function(e){throw e.response.data}));case 3:return e=t.sent,t.next=6,Object(O.b)({type:"SET_PRODUCTS",json:e});case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(O.b)({type:"SET_CURRENT_USER_FAILED",error:t.t0});case 12:case"end":return t.stop()}}),ee,null,[[0,8]])}function ne(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.c)("GET_PRODUCTS",ae);case 2:case"end":return e.stop()}}),te)}var re=w.a.mark(le),ce=w.a.mark(oe);function le(e){var t;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,U(e.userData).then((function(e){return e})).catch((function(e){throw e.response.data}));case 3:return t=a.sent,a.next=6,Object(O.b)({type:"SET_ORDERS",json:t});case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(0),a.next=12,Object(O.b)({type:"SET_CURRENT_USER_FAILED",error:a.t0});case 12:case"end":return a.stop()}}),re,null,[[0,8]])}function oe(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.c)("GET_ORDERS",le);case 2:case"end":return e.stop()}}),ce)}var se=w.a.mark(ie);function ie(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.a)([$(),ne(),oe()]);case 2:case"end":return e.stop()}}),se)}var ue=a(15),me=function(e){return{type:"GET_WALLET1",userData:e}},de=function(){return{type:"LOGOUT_USER"}},fe=a(121),be=a(120),Ee=a(4),pe=a.n(Ee);var he={logOutUser:de},ge=(Object(i.b)((function(e){return{user:e.userReducer.user,isAuthenticated:e.userReducer.isAuthenticated}}),he)((function(e){var t=e.logOutUser,a=e.isAuthenticated,c=(e.history,{color:"white",fontWeight:"bold"});return Object(n.useEffect)((function(){}),[a]),r.a.createElement(fe.a,{style:{color:"white"},variant:"dark",bg:"dark",expand:"sm"},r.a.createElement(l.b,{to:"/",activeStyle:c,exact:!0,className:"navbar-brand"},"Home"),r.a.createElement(fe.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(fe.a.Collapse,{id:"basic-navbar-nav"},a?r.a.createElement(be.a,{className:"mr-auto navbar-right-section"},r.a.createElement(l.b,{to:"/products",activeStyle:c,className:"nav-link"},"Products"),r.a.createElement(l.b,{to:"/wallet",activeStyle:c,className:"nav-link"},"Wallet"),r.a.createElement(l.b,{to:"/changePassword",activeStyle:c,className:"nav-link"},"Change Password "),r.a.createElement("a",{className:"nav-link pointer",onClick:function(e){return function(e){e.preventDefault(),pe.a.fire({title:"Confirm Logout ! ",text:"Are you sure you want to log out ? ",icon:"info",confirmButtonText:"Yes, Logout ",confirmButtonColor:"#007bff",denyButtonText:"No, Cancel",showDenyButton:!0}).then((function(e){e.isConfirmed&&t()}))}(e)}},"Logout")):r.a.createElement(be.a,{className:"mr-auto navbar-right-section"},r.a.createElement(l.b,{to:"/register",activeStyle:c,className:"nav-link"},"Register"),r.a.createElement(l.b,{to:"/login",activeStyle:c,className:"nav-link"},"Login"))))})),function(){return r.a.createElement("h1",null,"Oops! Page not found.")}),ve=a(19),we=a(9);var Oe=function(e){var t=e.history,a=Object(n.useState)({name:"",email:"",password:"",confirmPassword:""}),c=Object(we.a)(a,2),l=c[0],o=c[1],s=Object(n.useState)({}),i=Object(we.a)(s,2),u=i[0],d=i[1],f=Object(n.useState)(!1),b=Object(we.a)(f,2),E=b[0],p=b[1];function h(e){var t=e.target,a=t.name,n=t.value;o((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(ve.a)({},a,n))})),d((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(ve.a)({},a,""))}))}return r.a.createElement("div",{className:"register-form"},r.a.createElement("div",{id:"auth"},r.a.createElement("div",{class:"row h-100 justify-content-center"},r.a.createElement("div",{class:"col-lg-5 col-12"},r.a.createElement("div",{id:"auth-left",className:""},r.a.createElement("h1",{class:"auth-title"},"Sign up."),r.a.createElement("p",{class:"auth-subtitle mb-5"},"Create new account !"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),function(){var e=l.name,t=l.email,a=l.password,n=l.confirmPassword,r={};return e||(r.name="*Name is required."),t||(r.email="*Email is required"),a||(r.password="*Password is required"),n||(r.confirmPassword="*Confirm password is required"),d(r),0===Object.keys(r).length}()&&(pe.a.fire({title:"Creating Account ! ",html:"Please wait while we are setting up your account ...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:function(){pe.a.showLoading()}}),p(!0),S(l).then((function(){p(!1),pe.a.fire({title:"Account Created !",text:"Please check your email inbox to verify your email address !  ",icon:"success",confirmButtonText:"Login ",confirmButtonColor:"#007bff"}),t.push("/login"),o({name:"",email:"",password:"",confirmPassword:""})})).catch((function(e){p(!1),console.log(e.response.data),e.response.data.alreadyExists?pe.a.fire({title:"Failed  ! ",text:"This Email is already associated with another account !",icon:"error",confirmButtonText:"Login To Account ",confirmButtonColor:"#007bff",denyButtonText:"Use Another Email",showDenyButton:!0}).then((function(e){console.log(e),e.isConfirmed&&t.push("/login"),e.isDenied&&o((function(e){return Object(m.a)(Object(m.a)({},e),{},{email:""})}))})):pe.a.fire({title:"Failed   ! ",text:e.response.data.message,icon:"error",confirmButtonText:"OK",confirmButtonColor:"red"})})))}},r.a.createElement("div",{class:"form-group position-relative has-icon-left mb-4"},r.a.createElement("input",{type:"text",disabled:E,value:l.name,onChange:h,class:"form-control form-control-xl",name:"name",placeholder:"Full Name"}),r.a.createElement("div",{class:"form-control-icon"},r.a.createElement("i",{class:"bi bi-person"}))),u.name?r.a.createElement("div",{className:"form-error"},u.name):null,r.a.createElement("div",{class:"form-group position-relative has-icon-left mb-4"},r.a.createElement("input",{type:"text",disabled:E,value:l.email,onChange:h,class:"form-control form-control-xl",name:"email",placeholder:"Email Address"}),r.a.createElement("div",{class:"form-control-icon"},r.a.createElement("i",{class:"bi bi-envelope"}))),u.email?r.a.createElement("div",{className:"form-error"},u.email):null,r.a.createElement("div",{class:"form-group position-relative has-icon-left mb-4"},r.a.createElement("input",{disabled:E,value:l.password,onChange:h,type:"password",class:"form-control form-control-xl",name:"password",placeholder:"Password"}),r.a.createElement("div",{class:"form-control-icon"},r.a.createElement("i",{class:"bi bi-shield-lock"}))),u.password?r.a.createElement("div",{className:"form-error"},u.password):null,r.a.createElement("div",{class:"form-group position-relative has-icon-left mb-4"},r.a.createElement("input",{disabled:E,value:l.confirmPassword,onChange:h,type:"password",class:"form-control form-control-xl",name:"confirmPassword",placeholder:"Confirm Password"}),r.a.createElement("div",{class:"form-control-icon"},r.a.createElement("i",{class:"bi bi-shield-lock"}))),u.confirmPassword?r.a.createElement("div",{className:"form-error"},u.confirmPassword):null,r.a.createElement("button",{disabled:E,type:"submit",class:"btn btn-primary btn-block btn-lg shadow-lg mt-5"},"Sign Up")),r.a.createElement("div",{class:"text-center mt-5 text-lg fs-4"},r.a.createElement("p",{class:"text-gray-600"},"Already have an account ? ",r.a.createElement("a",{onClick:function(){return t.push("/login")},class:"pointer font-bold"},"Sign in")),r.a.createElement("p",null,r.a.createElement("a",{class:"font-bold pointer",onClick:function(){return t.push("/forgot")}},"Forgot password?"))),E?r.a.createElement("center",null,r.a.createElement("div",{className:"loading-spinner"}," ",r.a.createElement("img",{width:"90",src:"loading.gif"}),"  ")):r.a.createElement("div",{className:"loading-spinner"}))))))},je={loginUser:function(e){return{type:"LOGIN_USER",userData:e}}},ye=Object(i.b)((function(e){return{isAuthenticated:e.userReducer.isAuthenticated,loginResponsePayload:e.userReducer.user,loginError:e.userReducer.loginError}}),je)((function(e){var t=e.history,a=e.loginUser,c=e.loginError,l=e.isAuthenticated,o=(e.loginResponsePayload,Object(n.useState)({email:"",password:""})),s=Object(we.a)(o,2),i=s[0],u=s[1],d=Object(n.useState)({}),f=Object(we.a)(d,2),b=f[0],E=f[1],p=Object(n.useState)(!1),h=Object(we.a)(p,2),g=h[0],v=h[1];function w(e){var t=e.target,a=t.name,n=t.value;u((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(ve.a)({},a,n))})),E((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(ve.a)({},a,""))}))}function O(){v(!1),pe.a.fire({title:"Success ! ",text:"You Have successfully logged in to your Account ! ",icon:"success",confirmButtonText:"View Dashboard",confirmButtonColor:"#007bff"}).then((function(){t.push("/products")}))}function j(){v(!1),401==c.statusCode?pe.a.fire({title:"Email Not Verified !",text:c.message,icon:"warning",confirmButtonText:"Resend Email",confirmButtonColor:"#007bff",denyButtonText:"Close",showDenyButton:!0}).then((function(e){e.isConfirmed&&B({email:i.email}).then((function(){pe.a.fire({title:"Email Sent ! ",text:"Please check your inbox for Email Verification Link ! ",icon:"info",confirmButtonText:"Verified ? Click Here to Login Now",confirmButtonColor:"#007bff"}).then((function(){t.push("/login")}))})).catch((function(e){pe.a.fire({title:"Email Sending Failed !",text:e.message,icon:"warning",confirmButtonText:"Close",confirmButtonColor:"#007bff"})}))})):pe.a.fire({title:"Login Failed !",text:c.message,icon:"error",confirmButtonText:"Okay, Try Again ",confirmButtonColor:"red"})}function y(){c&&j(),l&&O()}return Object(n.useEffect)((function(){l&&O()}),[l,t]),Object(n.useEffect)((function(){y()}),[c]),r.a.createElement("div",{className:"register-form"},r.a.createElement("div",{id:"auth"},r.a.createElement("div",{class:"row h-100 justify-content-center"},r.a.createElement("div",{class:"col-lg-5 col-12"},r.a.createElement("div",{id:"auth-left",className:""},r.a.createElement("h1",{class:"auth-title"},"Log in."),r.a.createElement("p",{class:"auth-subtitle mb-5"},"Login to acces your dashboard."),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),function(){var e=i.email,t=i.password,a={};return e||(a.email="*Email is required"),t||(a.password="*Password is required"),E(a),0===Object.keys(a).length}()&&(pe.a.fire({title:"Logging In ! ",html:"Please wait...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:function(){pe.a.showLoading()}}),v(!0),a(i),y())}},r.a.createElement("div",{class:"form-group position-relative has-icon-left mb-4"},r.a.createElement("input",{type:"text",disabled:g,value:i.email,onChange:w,class:"form-control form-control-xl",name:"email",placeholder:"Email Address"}),r.a.createElement("div",{class:"form-control-icon"},r.a.createElement("i",{class:"bi bi-person"}))),b.email?r.a.createElement("div",{className:"form-error"},b.email):null,r.a.createElement("div",{class:"form-group position-relative has-icon-left mb-4"},r.a.createElement("input",{disabled:g,value:i.password,onChange:w,type:"password",class:"form-control form-control-xl",name:"password",placeholder:"Password"}),r.a.createElement("div",{class:"form-control-icon"},r.a.createElement("i",{class:"bi bi-shield-lock"}))),b.password?r.a.createElement("div",{className:"form-error"},b.password):null,r.a.createElement("button",{disabled:g,type:"submit",class:"btn btn-primary btn-block btn-lg shadow-lg mt-5"},"Log in")),r.a.createElement("div",{class:"text-center mt-5 text-lg fs-4"},r.a.createElement("p",{class:"text-gray-600"},"Don't have an account? ",r.a.createElement("a",{onClick:function(){return t.push("/register")},class:"pointer font-bold"},"Sign up")),r.a.createElement("p",null,r.a.createElement("a",{class:"font-bold pointer",onClick:function(){return t.push("/forgot")}},"Forgot password?"))),g?r.a.createElement("center",null,r.a.createElement("div",{className:"loading-spinner"}," ",r.a.createElement("img",{width:"90",src:"loading.gif"}),"  ")):r.a.createElement("div",{className:"loading-spinner"}))))))})),xe=a(25);var Ne=function(e){var t=e.history,a=Object(n.useState)({email:""}),c=Object(we.a)(a,2),l=c[0],o=c[1],s=Object(n.useState)({}),i=Object(we.a)(s,2),u=i[0],d=i[1],f=Object(n.useState)(!1),b=Object(we.a)(f,2),E=b[0],p=b[1];return r.a.createElement("div",{className:"register-form"},r.a.createElement("div",{id:"auth"},r.a.createElement("div",{class:"row h-100 justify-content-center"},r.a.createElement("div",{class:"col-lg-5 col-12"},r.a.createElement("div",{id:"auth-left",className:""},r.a.createElement("h1",{class:"auth-title"},"Forgot Password"),r.a.createElement("p",{class:"auth-subtitle mb-5"},"Input your email and we will send you reset password link."),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),function(){var e={};return l.email||(e.email="*Email is required"),d(e),0===Object.keys(e).length}()&&(p(!0),pe.a.fire({title:"Password Reset ! ",html:"Sending Password Reset Link, Please wait...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:function(){pe.a.showLoading()}}),P(l).then((function(){p(!1),pe.a.fire({title:"Password Reset  ! ",text:"Password Reset Link has been Sent to Your Email, Please Check Your Email Inbox !  ",icon:"success",confirmButtonText:"OK",confirmButtonColor:"#007bff"}).then((function(){o({email:""}),t.push("/login")}))})).catch((function(e){p(!1),console.log(e.response.data),xe.b.error(),pe.a.fire({title:"Password Reset ! ",text:e.response.data.message,icon:"error",confirmButtonText:"OK",confirmButtonColor:"red"})})))}},r.a.createElement("div",{class:"form-group position-relative has-icon-left mb-4"},r.a.createElement("input",{type:"email",onChange:function(e){var t=e.target,a=t.name,n=t.value;o((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(ve.a)({},a,n))})),d((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(ve.a)({},a,""))}))},value:l.email,name:"email",class:"form-control form-control-xl",placeholder:"Email"}),r.a.createElement("div",{class:"form-control-icon"},r.a.createElement("i",{class:"bi bi-envelope"}))),u.email?r.a.createElement("div",{className:"form-error"},u.email):null,r.a.createElement("button",{disabled:E,type:"submit",class:"btn btn-primary btn-block btn-lg shadow-lg mt-5"},"Reset Password ")),r.a.createElement("div",{class:"text-center mt-5 text-lg fs-4"},r.a.createElement("p",{class:"text-gray-600"},"Remember your account ? ",r.a.createElement("a",{onClick:function(){return t.push("/login")},class:"pointer font-bold"},"Log in"),".")))))))},Ce={getNews:function(){return{type:"GET_NEWS"}}},Se=Object(i.b)((function(e){return{article:e.newsReducer.news}}),Ce)((function(e){var t=e.getNews,a=e.article;return r.a.createElement("div",null,r.a.createElement("button",{onClick:t},"Press to see news"),console.log({article:a}),a?a.map((function(e){return r.a.createElement("h1",null,e.title)})):r.a.createElement("h2",null,"nothing"))}));var ke={logOutUser:de},Pe=Object(i.b)((function(e){return{user:e.userReducer.user,isAuthenticated:e.userReducer.isAuthenticated,userProfile:e.userReducer.user}}),ke)((function(e){var t=e.logOutUser,a=(e.isAuthenticated,e.history,e.loadWallet,e.userProfile,Object(n.useState)("customer")),c=Object(we.a)(a,2),o=c[0],s=c[1];return Object(n.useEffect)((function(){var e=localStorage.getItem("jwtToken");"admin"==C()(e).type&&s("admin")}),[]),r.a.createElement("div",null,r.a.createElement("div",{id:"sidebar",className:"active"},r.a.createElement("div",{className:"sidebar-wrapper active"},r.a.createElement("div",{className:"sidebar-header"},r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{className:"logo"},r.a.createElement("a",{style:{textAlign:"center"}},"Dashboard")),r.a.createElement("div",{className:"toggler"},r.a.createElement("a",{href:"#",className:"sidebar-hide d-xl-none d-block"},r.a.createElement("i",{className:"bi bi-x bi-middle"}))))),r.a.createElement("div",{className:"sidebar-menu"},r.a.createElement("ul",{className:"menu"},r.a.createElement(l.b,{to:"/products"},r.a.createElement("li",{className:"sidebar-item ".concat(window.location.href.includes("products")?"active":"")},r.a.createElement("a",{className:"sidebar-link"},r.a.createElement("i",{className:"bi bi-cart4"}),r.a.createElement("span",null,"Buy Products")))),r.a.createElement(l.b,{to:"/orders"},r.a.createElement("li",{className:"sidebar-item  ".concat(window.location.href.includes("orders")?"active":"")},r.a.createElement("a",{className:"sidebar-link"},r.a.createElement("i",{className:"bi bi-menu-button-wide"}),r.a.createElement("span",null,"Orders")))),r.a.createElement(l.b,{to:"/wallet"},r.a.createElement("li",{className:"sidebar-item  ".concat(window.location.href.includes("wallet")?"active":"")},r.a.createElement("a",{className:"sidebar-link"},r.a.createElement("i",{className:"bi bi-grid-1x2-fill"}),r.a.createElement("span",null,"Wallet")))),"admin"==o?r.a.createElement(l.b,{to:"/customers"},r.a.createElement("li",{className:"sidebar-item  ".concat(window.location.href.includes("customers")?"active":"")},r.a.createElement("a",{className:"sidebar-link"},r.a.createElement("i",{className:"bi bi-person"}),r.a.createElement("span",null,"Customers")))):"",r.a.createElement("hr",null),r.a.createElement(l.b,{to:"/changePassword"},r.a.createElement("li",{className:"sidebar-item  ".concat(window.location.href.includes("changePass")?"active":"")},r.a.createElement("a",{className:"sidebar-link"},r.a.createElement("i",{className:"bi bi-puzzle"}),r.a.createElement("span",null,"Change Password")))),r.a.createElement(l.b,{to:"/transactions"},r.a.createElement("li",{className:"sidebar-item "},r.a.createElement("a",{onClick:function(e){e.preventDefault(),pe.a.fire({title:"Confirm Logout ! ",text:"Are you sure you want to log out ? ",icon:"info",confirmButtonText:"Yes, Logout ",confirmButtonColor:"#435ebe",denyButtonText:"No, Cancel",showDenyButton:!0}).then((function(e){e.isConfirmed&&t()}))},style:{cursor:"pointer"},className:"sidebar-link"},r.a.createElement("i",{className:"bi bi-power"}),r.a.createElement("span",null,"Logout")))))),r.a.createElement("button",{className:"sidebar-toggler btn x"},r.a.createElement("i",{"data-feather":"x"})))))}));var Te={logOutUser:de},Re=Object(i.b)((function(e){return{user:e.userReducer.user,isAuthenticated:e.userReducer.isAuthenticated}}),Te)((function(e){var t=e.history,a=e.logOutUser,c=Object(n.useState)({password:"",confirmPassword:"",userId:""}),l=Object(we.a)(c,2),o=l[0],s=l[1],i=Object(n.useState)({}),u=Object(we.a)(i,2),d=u[0],f=u[1],b=Object(n.useState)(!1),E=Object(we.a)(b,2),p=E[0],h=E[1];function g(e){var t=e.target,a=t.name,n=t.value;s((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(ve.a)({},a,n))})),f((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(ve.a)({},a,""))}))}return Object(n.useEffect)((function(){if(localStorage.jwtToken){var e=localStorage.jwtToken,t=C()(e);s((function(e){return Object(m.a)(Object(m.a)({},e),{},{userId:t.id})}))}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,null),r.a.createElement("div",{className:"register-form"},r.a.createElement("div",{id:"auth"},r.a.createElement("div",{class:"row h-100 justify-content-center"},r.a.createElement("div",{class:"col-lg-5 col-12"},r.a.createElement("br",null),r.a.createElement("div",{id:"auth-left",className:""},r.a.createElement("h1",{class:"auth-title"},"Password."),r.a.createElement("p",{class:"auth-subtitle mb-5"},"Change Your Password "),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),function(){var e=o.password,t=o.confirmPassword,a={};return e||(a.password="*Password is required"),t||(a.confirmPassword="*Confirm password is required"),f(a),0===Object.keys(a).length}()&&(pe.a.fire({title:"Changing Password  ! ",html:"Please wait...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:function(){pe.a.showLoading()}}),h(!0),T(o).then((function(e){h(!1),pe.a.fire({title:"Password Changed !",text:"You Password Has Been Updated Successfully, Please Login Again ! ",icon:"success",confirmButtonText:"OK",confirmButtonColor:"#007bff"}).then((function(){a(),s({password:"",confirmPassword:""}),t.push("/login")}))})).catch((function(e){h(!1),console.log(e.response.data),xe.b.error(),pe.a.fire({title:"Failed ! ",text:e.response.data.message,icon:"error",confirmButtonText:"OK",confirmButtonColor:"red"})})))}},r.a.createElement("div",{class:"form-group position-relative has-icon-left mb-4"},r.a.createElement("input",{type:"password",disabled:p,value:o.password,onChange:g,class:"form-control form-control-xl",name:"password",placeholder:"New Password"}),r.a.createElement("div",{class:"form-control-icon"},r.a.createElement("i",{class:"bi bi-shield-lock"}))),d.password?r.a.createElement("div",{className:"form-error"},d.password):null,r.a.createElement("div",{class:"form-group position-relative has-icon-left mb-4"},r.a.createElement("input",{type:"password",disabled:p,value:o.confirmPassword,onChange:g,class:"form-control form-control-xl",name:"confirmPassword",placeholder:"Re-Enter New Password "}),r.a.createElement("div",{class:"form-control-icon"},r.a.createElement("i",{class:"bi bi-shield-lock"}))),d.password?r.a.createElement("div",{className:"form-error"},d.confirmPassword):null,r.a.createElement("button",{disabled:p,type:"submit",class:"btn btn-primary btn-block btn-lg shadow-lg mt-5"},"Update Password"))))))))})),Be=a(71),Ae=Object(i.b)((function(e){return{isAuthenticated:e.userReducer.isAuthenticated}}),null)((function(e){var t=e.component,a=e.isAuthenticated,n=Object(Be.a)(e,["component","isAuthenticated"]);return r.a.createElement(ue.b,Object.assign({},n,{render:function(e){return!0===a?r.a.createElement(t,e):r.a.createElement(ue.a,{to:"/"})}}))})),Le=(a(113),a(119)),De=a(118);var Ue=function(e){var t=e.history,a=Object(n.useState)({password:"",confirmPassword:"",userId:""}),c=Object(we.a)(a,2),l=c[0],o=c[1],s=Object(n.useState)({}),i=Object(we.a)(s,2),u=i[0],d=i[1],f=Object(n.useState)(!1),b=Object(we.a)(f,2),E=b[0],p=b[1],h=Object(n.useState)("Update Account Password "),g=Object(we.a)(h,2),v=g[0];function w(e){var t=e.target,a=t.name,n=t.value;o((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(ve.a)({},a,n))})),d((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(ve.a)({},a,""))}))}return g[1],Object(n.useEffect)((function(){var e=new URLSearchParams(window.location.search).get("uid");if(e)try{if(null==typeof e||void 0==typeof e)throw new Error("Invalid Token");var a=C()(e),n=Date.now()/1e3;a.exp<n?pe.a.fire({title:"Invalid/Expired  Link ",text:"This Link is Invalid/Expired, Please reset your password again !",icon:"error",confirmButtonText:"OK",confirmButtonColor:"red"}).then((function(){t.push("/forgot")})):o((function(e){return Object(m.a)(Object(m.a)({},e),{},{userId:a.id})}))}catch(r){pe.a.fire({title:"Invalid/Expired  Link ",text:"This Link is Invalid/Expired, Please reset your password again !",icon:"error",confirmButtonText:"OK",confirmButtonColor:"red"}).then((function(){t.push("/forgot")}))}}),[]),r.a.createElement("div",{className:"register-form"},E?r.a.createElement("div",{className:"loading-spinner"},r.a.createElement("img",{width:"90",src:"loading.gif"}),"  "):r.a.createElement("div",{className:"loading-spinner"}),r.a.createElement("br",null),r.a.createElement("h3",null,v),r.a.createElement("hr",null),r.a.createElement(Le.a,{onSubmit:function(e){p(!0),e.preventDefault(),function(){var e=l.password,t=l.confirmPassword,a={};return e||(a.password="*Password is required"),t||(a.confirmPassword="*Confirm password is required"),d(a),0===Object.keys(a).length}()&&T(l).then((function(e){console.log("Change Password Response",e),p(!1),pe.a.fire({title:"Change Password! ",text:"You Password Has Been Updated Successfully, Please Login Again ! ",icon:"success",confirmButtonText:"OK",confirmButtonColor:"#007bff"}).then((function(){o({password:"",confirmPassword:""}),t.push("/login")}))})).catch((function(e){p(!1),console.log(e.response.data),xe.b.error(),pe.a.fire({title:"Password Reset ! ",text:e.response.data.message,icon:"error",confirmButtonText:"OK",confirmButtonColor:"red"})}))}},r.a.createElement(Le.a.Group,{controlId:"formBasicPassword"},r.a.createElement(Le.a.Label,null,"Password"),r.a.createElement(Le.a.Control,{type:"password",placeholder:"",name:"password",value:l.password,onChange:w}),u.password?r.a.createElement("div",{className:"form-error"},u.password):null),r.a.createElement(Le.a.Group,{controlId:"formBasicConfirmPassword"},r.a.createElement(Le.a.Label,null,"Confirm Password"),r.a.createElement(Le.a.Control,{type:"password",placeholder:"",name:"confirmPassword",value:l.confirmPassword,onChange:w}),u.confirmPassword?r.a.createElement("div",{className:"form-error"},u.confirmPassword):null),r.a.createElement(De.a,{variant:"primary",type:"submit"},"Update Password")),r.a.createElement("br",null))};var Ie=function(e){var t=e.history,a=Object(n.useState)(!0),c=Object(we.a)(a,2),l=c[0],o=c[1];return Object(n.useEffect)((function(){var e=new URLSearchParams(window.location.search).get("uid");if(e)try{if(null==typeof e||void 0==typeof e)throw new Error("Invalid Token");var a=C()(e);R({userId:a.id}).then((function(){o(!1),pe.a.fire({title:"Email Verified !",text:"Email Verified Successfully, Login to Continue ! ",icon:"success",confirmButtonText:"Login",confirmButtonColor:"#007bff"}).then((function(){t.push("/login")}))})).catch((function(e){pe.a.fire({title:"Verification Failed !",text:e.message,icon:"error",confirmButtonText:"OK",confirmButtonColor:"red"}).then((function(){t.push("/login")}))}))}catch(n){pe.a.fire({title:"Verification Failed ! ",text:"Verification Link is Invalid/Expired !",icon:"error",confirmButtonText:"OK",confirmButtonColor:"red"}).then((function(){t.push("/login")}))}}),[]),r.a.createElement("div",{className:"register-form"},l?r.a.createElement("div",{className:"loading-spinner"}," ",r.a.createElement("img",{width:"90",src:"loading.gif"}),"  "):r.a.createElement("div",{className:"loading-spinner"}),r.a.createElement("br",null),r.a.createElement("h3",null,r.a.createElement("center",null,"Verifying Email . . . . ")),r.a.createElement("hr",null),r.a.createElement("br",null))};var _e={loadWallet:function(e){return{type:"LOAD_WALLET",userData:e}}},Fe=Object(i.b)((function(e){return{isAuthenticated:e.userReducer.isAuthenticated,userProfile:e.userReducer.user,walletUpdated:e.userReducer.isWalletLoaded}}),_e)((function(e){var t=e.userProfile;return e.walletUpdated,e.isAuthenticated,Object(n.useEffect)((function(){}),[]),r.a.createElement("div",null,r.a.createElement("section",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h4",{style:{textAlign:"center"}},"customer"==(null===t||void 0===t?void 0:t.type)?" Wallet Address :  "+(null===t||void 0===t?void 0:t.walletAddress):"Admin Account ")))))))})),We={getProducts:function(){return{type:"GET_PRODUCTS"}}},Ke=Object(i.b)((function(e){return{productsData:e.productsReducer.products,productFound:e.productsReducer.productsFound,userProfile:e.userReducer.user}}),We)((function(e){var t=e.getProducts,a=(e.history,e.productsData),c=e.productFound,l=(e.userProfile,Object(n.useState)({name:"",email:"",password:"",confirmPassword:""})),o=Object(we.a)(l,2),s=(o[0],o[1],Object(n.useState)([])),i=Object(we.a)(s,2),u=(i[0],i[1],Object(n.useState)(!1)),m=Object(we.a)(u,2);m[0],m[1];function d(e){var t=localStorage.getItem("jwtToken"),a=(C()(t),e.quantity>0?'<span class="badge bg-success">In Stock</span>':' <span class="badge bg-danger">Out of Stock</span>'),n=e.keywords.map((function(e,t){return'<span class="badge bg-light-primary">'+e+"</span>"}));pe.a.fire({title:"<strong>Product Details</strong>",html:'<div class="row"><div class="col-lg-12"> <img width="250" class="img-fluid" src='+e.image+' alt="Product Image"  /><br/><br/></div><div class="col-lg-12">  <table class="table table-bordered mb-0"><tr><td class="text-bold-500"><strong>Product</strong></td><td>'+e.title+'</td></tr><tr><td class="text-bold-500"><strong>Description</strong></td>   <td>'+e.description+'</td></tr>     <tr>         <td class="text-bold-500"><strong>Price</strong></td>        <td>'+e.currency[0].symbol+" "+e.price+'</td>    </tr>     <tr>         <td class="text-bold-500"><strong>Brand</strong></td>        <td>'+e.brand+'</td>    </tr>     <tr>         <td class="text-bold-500"><strong>Keywords</strong></td>        <td>'+n+'</td>    </tr>     <tr>         <td class="text-bold-500"><strong>Status</strong></td>        <td>'+a+"</td>    </tr>  </div></div>",showCloseButton:!0,width:"40rem",showCancelButton:!0,focusConfirm:!1,confirmButtonText:"Buy Now",confirmButtonAriaLabel:"Buy Now",cancelButtonText:"Cancel",cancelButtonAriaLabel:"Cancel"}).then((function(t){t.isConfirmed&&function(e){var t=localStorage.getItem("jwtToken"),a=C()(t);if("admin"==a.type)return alert("Admin Account be used for purchases "),"";var n=pe.a.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!0});n.fire({title:"Confirm Order  ? ",text:"Are you sure you want to Place Order  ?",icon:"info",showCancelButton:!0,confirmButtonText:"Yes, Confirm Purchase ",cancelButtonText:"No, Cancel ! ",reverseButtons:!1}).then((function(t){if(t.isConfirmed){pe.a.fire({title:"Processing! ",html:"Processing Your Order , Please wait...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:function(){pe.a.showLoading()}});var r={userId:a.id,product:e};D(r).then((function(e){e.insuffecientBalance?n.fire("Failed ! ","Insuffecient Wallet Balance","error"):n.fire("Confirmed !","Order Placed, We have recieved your order ! ","success")})).catch((function(e){"Request failed with status code 433"==e.message?n.fire("Failed ! ","Insuffecient Wallet Balance ","error"):n.fire("Failed ! ",e.message,"error")}))}}))}(e)}))}return Object(n.useEffect)((function(){t()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,null),r.a.createElement("div",{id:"main"},r.a.createElement("header",{className:"mb-3"},r.a.createElement("a",{href:"#",className:"burger-btn d-block d-xl-none"},r.a.createElement("i",{className:"bi bi-justify fs-3"}))),r.a.createElement("div",{className:"page-heading"},r.a.createElement("h3",null,"Buy Products")),r.a.createElement("hr",null),r.a.createElement("div",{className:"page-content"},r.a.createElement("section",{className:"row"},r.a.createElement("div",{className:"col-12 col-lg-12"},r.a.createElement("div",{className:"row"},c?a.data.products.map((function(e,t){return r.a.createElement("div",{key:t,className:"col-6 col-lg-3 col-md-6"},r.a.createElement("div",{class:"card"},r.a.createElement("div",{class:"card-content"},r.a.createElement("img",{class:"card-img-top img-fluid",src:e.image,alt:"Card image cap",style:{height:"10rem",contain:"cover"}}),r.a.createElement("div",{class:"card-body"},r.a.createElement("h4",{class:"card-title"},e.title),r.a.createElement("p",{class:"card-text"},e.description),r.a.createElement("p",{class:"card-text"},"Status : ",r.a.createElement("span",{class:"badge bg-success"},"In Stock")),r.a.createElement("div",null,r.a.createElement("h4",{style:{float:"left"},class:"card-title"},e.currency[0].symbol," ",e.price),r.a.createElement("button",{style:{width:"100px",float:"right"},onClick:function(){d(e)},class:"btn btn-sm btn-primary"},r.a.createElement("b",null,"  ",r.a.createElement("i",{className:"bi bi-cart-check"})," Buy Now"))),r.a.createElement("br",null)))))})):"")))),r.a.createElement(Fe,null)))}));var Ve=function(){return r.a.createElement("div",{id:"app"},r.a.createElement(Pe,null),r.a.createElement("div",{id:"main"},r.a.createElement("header",{className:"mb-3"},r.a.createElement("a",{href:"#",className:"burger-btn d-block d-xl-none"},r.a.createElement("i",{className:"bi bi-justify fs-3"}))),r.a.createElement("div",{className:"page-heading"},r.a.createElement("h3",null,"Dashboard")),r.a.createElement("div",{className:"page-content"},r.a.createElement("section",{className:"row"},r.a.createElement("div",{className:"col-12 col-lg-12"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6 col-lg-4 col-md-6"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body px-3 py-4-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"stats-icon purple"},r.a.createElement("i",{className:"iconly-boldShow"}))),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("h6",{className:"text-muted font-semibold"},"Wallet Balance"),r.a.createElement("h6",{className:"font-extrabold mb-0"},"112")))))),r.a.createElement("div",{className:"col-6 col-lg-4 col-md-6"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body px-3 py-4-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"stats-icon blue"},r.a.createElement("i",{className:"iconly-boldProfile"}))),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("h6",{className:"text-muted font-semibold"},"Orders"),r.a.createElement("h6",{className:"font-extrabold mb-0"},"4")))))),r.a.createElement("div",{className:"col-6 col-lg-4 col-md-6"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body px-3 py-4-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"stats-icon green"},r.a.createElement("i",{className:"iconly-boldAdd-User"}))),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("h6",{className:"text-muted font-semibold"},"Transactions"),r.a.createElement("h6",{className:"font-extrabold mb-0"},"5"))))))))))))};var Ge={getOrders:function(e){return{type:"GET_ORDERS",userData:e}}},qe=Object(i.b)((function(e){return{ordersData:e.ordersReducer.orders,ordersFound:e.ordersReducer.ordersFound,userProfile:e.userReducer.user,isAuthenticated:e.userReducer.isAuthenticated}}),Ge)((function(e){var t,a=e.getOrders,c=(e.history,e.ordersData),l=e.ordersFound,o=e.userProfile,s=e.isAuthenticated,i=Object(n.useState)({name:"",email:"",password:"",confirmPassword:""}),u=Object(we.a)(i,2),m=(u[0],u[1],Object(n.useState)([])),d=Object(we.a)(m,2),f=(d[0],d[1],Object(n.useState)(!1)),b=Object(we.a)(f,2),E=b[0],p=b[1];return Object(n.useEffect)((function(){if(s&&!E){var e=localStorage.getItem("jwtToken"),t=C()(e);if(t.emailVerified){var n={userId:t.id};a(n),p(!0)}}}),[s]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,null),r.a.createElement("div",{id:"main"},r.a.createElement("header",{className:"mb-3"},r.a.createElement("a",{href:"#",className:"burger-btn d-block d-xl-none"},r.a.createElement("i",{className:"bi bi-justify fs-3"}))),r.a.createElement("div",{className:"page-heading"},r.a.createElement("h3",null,"My Orders ")),r.a.createElement("hr",null),r.a.createElement("div",{className:"page-content"},r.a.createElement("section",{className:"row"},r.a.createElement("div",{className:"col-12 col-lg-12"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{class:"card"},r.a.createElement("div",{class:"table-responsive"},r.a.createElement("table",{class:"table table-lg"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Order ID"),r.a.createElement("th",null,"Product Name"),r.a.createElement("th",null,"Amount"),r.a.createElement("th",null,"Order Status"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,l?null===c||void 0===c||null===(t=c.data)||void 0===t?void 0:t.orders.map((function(e,t){var n,c;return r.a.createElement("tr",{key:t},r.a.createElement("td",{className:"text-bold-500"},null===e||void 0===e?void 0:e._id),r.a.createElement("td",null,null===e||void 0===e||null===(n=e.productDetails[0])||void 0===n?void 0:n.title),r.a.createElement("td",null,null===e||void 0===e||null===(c=e.productDetails[0])||void 0===c?void 0:c.price),r.a.createElement("td",{className:"text-bold-500"},null===e||void 0===e?void 0:e.status),r.a.createElement("td",{className:"text-bold-500"},"REFUNDED"!=(null===e||void 0===e?void 0:e.status)&&"admin"==o.type?r.a.createElement("button",{onClick:function(){return function(e){var t=localStorage.getItem("jwtToken"),n=C()(t),r=pe.a.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!0});r.fire({title:"Confirm Refund  ? ",text:"Are you sure you want to Refund Order  ?",icon:"info",showCancelButton:!0,confirmButtonText:"Yes, Confirm  ",cancelButtonText:"No, Cancel ! ",reverseButtons:!1}).then((function(t){if(t.isConfirmed){pe.a.fire({title:"Processing! ",html:"Processing  , Please wait...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:function(){pe.a.showLoading()}});var c={adminId:n.id,orderId:e._id};I(c).then((function(e){var t={userId:n.id};a(t),r.fire("Order Refunded","Order Refunded, Amount credited to user Wallet ","success")})).catch((function(e){r.fire("Failed ! ",e.message,"error")}))}}))}(e)},className:"btn btn-primary btn-sm"},"Refund"):" - "))})):"Loading Orders . . . . ")))))))),r.a.createElement(Fe,null)))})),Ye={getWallet1:me},He=Object(i.b)((function(e){return{wallet1:e.userReducer.wallet1,wallet1Loaded:e.userReducer.isWallet1Loaded,userProfile:e.userReducer.user,isAuthenticated:e.userReducer.isAuthenticated}}),Ye)((function(e){e.getOrders,e.history,e.wallet1;var t,a=e.wallet1Loaded,c=e.userProfile,l=e.isAuthenticated,o=Object(n.useState)([]),s=Object(we.a)(o,2),i=s[0],u=s[1],m=Object(n.useState)(0),d=Object(we.a)(m,2),f=d[0],b=d[1],E=Object(n.useState)([]),p=Object(we.a)(E,2),h=(p[0],p[1],Object(n.useState)(!1)),g=Object(we.a)(h,2),v=g[0],w=g[1];function O(){var e=localStorage.getItem("jwtToken"),t={userId:C()(e).id};F(t).then((function(e){var t=0,a=0;e.data.result.map((function(e,n){t+=e.credit,a+=e.debit})),b(t-a),u(e.data),w(!0)})).catch((function(e){console.log(e)}))}return Object(n.useEffect)((function(){if(l&&!v){var e=localStorage.getItem("jwtToken"),t=C()(e);if(t.emailVerified){var a={userId:t.id};me(a),w(!0)}}}),[a,l]),Object(n.useEffect)((function(){O()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,null),r.a.createElement("div",{id:"main"},r.a.createElement("header",{className:"mb-3"},r.a.createElement("a",{href:"#",className:"burger-btn d-block d-xl-none"},r.a.createElement("i",{className:"bi bi-justify fs-3"}))),r.a.createElement("div",{className:"page-heading"},r.a.createElement("h3",null,"Wallet Details ")),r.a.createElement("hr",null),r.a.createElement("div",{className:"page-content"},r.a.createElement("section",{className:"row"},r.a.createElement("div",{className:"col-12 col-lg-12"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{class:"card"},r.a.createElement("h4",{style:{textAlign:"center",margin:"10px"}},"Wallet Balance : ",v?f:"..."," ",r.a.createElement("button",{onClick:function(){return function(){var e=pe.a.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!0});e.fire({title:"Enter Amount ! ",icon:"info",showCancelButton:!0,confirmButtonText:"Confirm  ",cancelButtonText:"Cancel ",reverseButtons:!1,inputPlaceholder:"Enter Amount to load into Wallet",input:"number"}).then((function(t){if(t.isConfirmed){pe.a.fire({title:"Processing ! ",html:"Adding Balance to Wallet  , Please wait...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:function(){pe.a.showLoading()}});var a={currencyId:"6238bf6cf8b52ba80db9ae22",userId:c.id,amount:t.value};K(a).then((function(t){O(),e.fire("Success !","Balance Added to Wallet  Successfully !  ","success")})).catch((function(t){e.fire("Failed ! ",t.message,"error")}))}}))}()}},"Deposit Amount ")),r.a.createElement("div",{class:"table-responsive"},r.a.createElement("table",{class:"table table-lg"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Transaction ID"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Debit"),r.a.createElement("th",null,"Credit"))),r.a.createElement("tbody",null,v?null===i||void 0===i||null===(t=i.result)||void 0===t?void 0:t.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",{className:"text-bold-500"},e._id),r.a.createElement("td",null,e.description),r.a.createElement("td",{className:"text-bold-500"},null!=e.debit?r.a.createElement("span",{class:"badge bg-light-danger"},e.debit):" - "),r.a.createElement("td",{className:"text-bold-500"},null!=e.credit?r.a.createElement("span",{class:"badge bg-light-success"},e.credit):" - "))})):"Loading Data . . . . ")))))))),r.a.createElement(Fe,null)))})),Me={getCustomers:function(e){return{type:"GET_CUSTOMERS",userData:e}}},ze=Object(i.b)((function(e){return{customersData:e.userReducer.customersData,customersFound:e.userReducer.customersFound,userProfile:e.userReducer.user,isAuthenticated:e.userReducer.isAuthenticated}}),Me)((function(e){var t=e.getCustomers,a=(e.history,e.customersData),c=e.customersFound,l=e.userProfile,o=e.isAuthenticated,s=Object(n.useState)(!1),i=Object(we.a)(s,2),u=i[0],m=i[1];return Object(n.useEffect)((function(){if(o&&!u){var e=localStorage.getItem("jwtToken"),a=C()(e);if(a.emailVerified){var n={adminId:a.id};t(n),c&&m(!0)}}}),[o,c]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,null),r.a.createElement("div",{id:"main"},r.a.createElement("header",{className:"mb-3"},r.a.createElement("a",{href:"#",className:"burger-btn d-block d-xl-none"},r.a.createElement("i",{className:"bi bi-justify fs-3"}))),r.a.createElement("div",{className:"page-heading"},r.a.createElement("h3",null,"Customers ")),r.a.createElement("hr",null),r.a.createElement("div",{className:"page-content"},r.a.createElement("section",{className:"row"},r.a.createElement("div",{className:"col-12 col-lg-12"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{class:"card"},r.a.createElement("div",{class:"table-responsive"},r.a.createElement("table",{class:"table table-lg"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"User ID"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Email Verified"),r.a.createElement("th",null,"Wallet Address"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,c?null===a||void 0===a?void 0:a.customers.map((function(e,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",{className:"text-bold-500"},e._id),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.email),r.a.createElement("td",null,e.emailVerified?"Yes":"NO"),r.a.createElement("td",{className:"text-bold-500"},e.walletAddress),r.a.createElement("td",{className:"text-bold-500"},r.a.createElement("button",{onClick:function(){return function(e){var a=pe.a.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!0});a.fire({title:"Confirm  ? ",text:"Are you sure you want to Delete User ?",icon:"info",showCancelButton:!0,confirmButtonText:"Yes, Delete ",cancelButtonText:"No, Cancel ! ",reverseButtons:!1}).then((function(n){if(n.isConfirmed){pe.a.fire({title:"Processing ! ",html:"Deleting User , Please wait...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:function(){pe.a.showLoading()}});var r={adminId:l.id,userId:e._id};W(r).then((function(e){t({adminId:r.adminId}),a.fire("Deleted !","User Deleted Successfully !  ","success")})).catch((function(e){a.fire("Failed ! ",e.message,"error")}))}}))}(e)},class:"btn btn-danger btn-sm"}," Delete user")))})):"Loading Data . . . . ")))))))),r.a.createElement(Fe,null)))})),Je={logOutUser:de,setCurrentUser:function(e){return{type:"SET_CURRENT_USER",json:e}}},Qe=Object(i.b)(null,Je)((function(e){var t=e.setCurrentUser,a=e.logOutUser;return Object(n.useEffect)((function(){if(localStorage.jwtToken){var e=localStorage.jwtToken;x(e);var n=C()(e);console.log(n),t(n);var r=Date.now()/1e3;n.exp<r&&(console.log("true"),a(),window.location.href="/login")}}),[t,a]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ue.d,null,r.a.createElement(ue.b,{exact:!0,path:"/",component:ye}),r.a.createElement(Ae,{path:"/dashboard",component:Ve}),r.a.createElement(Ae,{path:"/customers",component:ze}),r.a.createElement(Ae,{path:"/orders",component:qe}),r.a.createElement(Ae,{path:"/wallet",component:He}),r.a.createElement(ue.b,{path:"/login",component:ye}),r.a.createElement(Ae,{exact:!0,path:"/products",component:Ke}),r.a.createElement(ue.b,{exact:!0,path:"/passwordLess",component:Ue}),r.a.createElement(Ae,{exact:!0,path:"/changePassword",component:Re}),r.a.createElement(ue.b,{exact:!0,path:"/register",component:Oe}),r.a.createElement(ue.b,{exact:!0,path:"/news",component:Se}),r.a.createElement(ue.b,{exact:!0,path:"/emailverification",component:Ie}),r.a.createElement(ue.b,{exact:!0,path:"/forgot",component:Ne}),r.a.createElement(ue.b,{component:ge})),r.a.createElement(xe.a,{position:"bottom-left",autoClose:5e3,hideProgressBar:!1}))})),Xe=Object(o.a)(),Ze=Object(s.e)(g,Object(s.a)(Xe,u.logger));Xe.run(ie),Object(c.render)(r.a.createElement(i.a,{store:Ze},r.a.createElement(l.a,null,r.a.createElement(Qe,null))),document.getElementById("root"))},72:function(e,t,a){e.exports=a(114)}},[[72,1,2]]]);
//# sourceMappingURL=main.a9b600b3.chunk.js.map