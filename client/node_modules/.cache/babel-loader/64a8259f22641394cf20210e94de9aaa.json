{"ast":null,"code":"import _regeneratorRuntime from\"/Users/abdulmutaalazhar/Downloads/Quick-Mern-Project-heroku/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(loginUser),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(getWallet1),_marked3=/*#__PURE__*/_regeneratorRuntime.mark(getCustomers),_marked4=/*#__PURE__*/_regeneratorRuntime.mark(loadWallet),_marked5=/*#__PURE__*/_regeneratorRuntime.mark(logOutUser),_marked6=/*#__PURE__*/_regeneratorRuntime.mark(actionLoginUser);import{put,takeLatest}from'redux-saga/effects';import setAuthToken from\"../../utils/setAuthToken\";import jwt_decode from\"jwt-decode\";import API from\"../../api/api\";function loginUser(userData){var json;return _regeneratorRuntime.wrap(function loginUser$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return API.loginUser(userData.userData).then(function(res){var token=res.data.token;localStorage.setItem(\"jwtToken\",token);setAuthToken(token);var decoded=jwt_decode(token);return decoded;}).catch(function(err){throw err.response.data;});case 3:json=_context.sent;_context.next=6;return put({type:\"SET_CURRENT_USER\",json:json});case 6:_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);_context.next=12;return put({type:'SET_CURRENT_USER_FAILED',error:_context.t0});case 12:case\"end\":return _context.stop();}}},_marked,null,[[0,8]]);}function getWallet1(userData){var json;return _regeneratorRuntime.wrap(function getWallet1$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return API.getWallet(userData.userData).then(function(res){var response=res.data;return response;}).catch(function(err){throw err.response.data;});case 3:json=_context2.sent;_context2.next=6;return put({type:\"SET_WALLET1\",json:json});case 6:_context2.next=12;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);_context2.next=12;return put({type:'SET_CURRENT_USER_FAILED',error:_context2.t0});case 12:case\"end\":return _context2.stop();}}},_marked2,null,[[0,8]]);}function getCustomers(userData){var json;return _regeneratorRuntime.wrap(function getCustomers$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return API.getCustomers(userData.userData).then(function(res){var response=res.data;return response;}).catch(function(err){throw err.response.data;});case 3:json=_context3.sent;_context3.next=6;return put({type:\"SET_CUSTOMERS\",json:json});case 6:_context3.next=12;break;case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](0);_context3.next=12;return put({type:'SET_CURRENT_USER_FAILED',error:_context3.t0});case 12:case\"end\":return _context3.stop();}}},_marked3,null,[[0,8]]);}function loadWallet(userId){var json;return _regeneratorRuntime.wrap(function loadWallet$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return API.loadWallet(userId).then(function(res){var wallet=res.data;return wallet;}).catch(function(err){throw err.response.data;});case 3:json=_context4.sent;_context4.next=6;return put({type:\"SET_WALLET\",json:json});case 6:_context4.next=12;break;case 8:_context4.prev=8;_context4.t0=_context4[\"catch\"](0);_context4.next=12;return put({type:'SET_CURRENT_USER_FAILED',error:_context4.t0});case 12:case\"end\":return _context4.stop();}}},_marked4,null,[[0,8]]);}function logOutUser(){return _regeneratorRuntime.wrap(function logOutUser$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:localStorage.removeItem(\"jwtToken\");setAuthToken(false);_context5.next=4;return put({type:\"SET_CURRENT_USER\",json:{}});case 4:case\"end\":return _context5.stop();}}},_marked5);}export default function actionLoginUser(){return _regeneratorRuntime.wrap(function actionLoginUser$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return takeLatest('LOGIN_USER',loginUser);case 2:_context6.next=4;return takeLatest('GET_CUSTOMERS',getCustomers);case 4:_context6.next=6;return takeLatest('LOAD_WALLET',loadWallet);case 6:_context6.next=8;return takeLatest('GET_WALLET1',getWallet1);case 8:_context6.next=10;return takeLatest('LOGOUT_USER',logOutUser);case 10:case\"end\":return _context6.stop();}}},_marked6);}","map":{"version":3,"sources":["/Users/abdulmutaalazhar/Downloads/Quick-Mern-Project-heroku/client/src/redux/sagas/userSaga.js"],"names":["loginUser","getWallet1","getCustomers","loadWallet","logOutUser","actionLoginUser","put","takeLatest","setAuthToken","jwt_decode","API","userData","then","res","token","data","localStorage","setItem","decoded","catch","err","response","json","type","error","getWallet","userId","wallet","removeItem"],"mappings":"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","sourcesContent":["import { put, takeLatest } from 'redux-saga/effects';\nimport setAuthToken from \"../../utils/setAuthToken\";\nimport jwt_decode from \"jwt-decode\";\nimport API from \"../../api/api\";\n\nfunction* loginUser(userData) {\n    try {\n        const json = yield API.loginUser(userData.userData)\n            .then(res => {\n                const { token } = res.data;\n                localStorage.setItem(\"jwtToken\", token);\n                setAuthToken(token);\n                const decoded = jwt_decode(token);\n                return (decoded);\n            })\n            .catch(err => {\n                throw err.response.data;\n            });\n        yield put({\n            type: \"SET_CURRENT_USER\",\n            json: json\n        });\n    }\n    catch (error) {\n        yield put({\n            type: 'SET_CURRENT_USER_FAILED',\n            error\n        })\n    }\n\n}\nfunction* getWallet1(userData) {\n    try {\n        const json = yield API.getWallet(userData.userData)\n            .then(res => {\n                const response= res.data;\n\n                return (response);\n            })\n            .catch(err => {\n                throw err.response.data;\n            });\n        yield put({\n            type: \"SET_WALLET1\",\n            json: json\n        });\n    }\n    catch (error) {\n        yield put({\n            type: 'SET_CURRENT_USER_FAILED',\n            error\n        })\n    }\n\n}\n\nfunction* getCustomers(userData) {\n    try {\n        const json = yield API.getCustomers(userData.userData)\n            .then(res => {\n                const response= res.data;\n\n                return (response);\n            })\n            .catch(err => {\n                throw err.response.data;\n            });\n        yield put({\n            type: \"SET_CUSTOMERS\",\n            json: json\n        });\n    }\n    catch (error) {\n        yield put({\n            type: 'SET_CURRENT_USER_FAILED',\n            error\n        })\n    }\n\n}\nfunction* loadWallet(userId) {\n    try {\n        const json = yield API.loadWallet(userId)\n            .then(res => {\n                const wallet  = res.data;\n                return (wallet);\n            })\n            .catch(err => {\n                throw err.response.data;\n            });\n        yield put({\n            type: \"SET_WALLET\",\n            json: json\n        });\n    }\n    catch (error) {\n        yield put({\n            type: 'SET_CURRENT_USER_FAILED',\n            error\n        })\n    }\n\n}\n\nfunction* logOutUser() {\n    localStorage.removeItem(\"jwtToken\");\n    setAuthToken(false);\n    yield put({\n        type: \"SET_CURRENT_USER\",\n        json: {},\n    });\n}\n\nexport default function* actionLoginUser() {\n    yield takeLatest('LOGIN_USER', loginUser)\n    yield takeLatest('GET_CUSTOMERS', getCustomers)\n    yield takeLatest('LOAD_WALLET', loadWallet)\n    yield takeLatest('GET_WALLET1', getWallet1)\n    yield takeLatest('LOGOUT_USER', logOutUser)\n}\n"]},"metadata":{},"sourceType":"module"}