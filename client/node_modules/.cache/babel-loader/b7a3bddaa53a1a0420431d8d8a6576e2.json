{"ast":null,"code":"import _defineProperty from\"/Users/abdulmutaalazhar/Downloads/Quick-Mern-Project-heroku/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/abdulmutaalazhar/Downloads/Quick-Mern-Project-heroku/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/abdulmutaalazhar/Downloads/Quick-Mern-Project-heroku/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Form,Button}from'react-bootstrap';import API from\"../../api/api\";import{toast}from\"react-toastify\";import Swal from'sweetalert2';import BounceLoader from'react-spinners/DotLoader';function ForgotPassword(_ref){var history=_ref.history;var _useState=useState({email:\"\"}),_useState2=_slicedToArray(_useState,2),userData=_useState2[0],setUserData=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isActive=_useState6[0],setIsActive=_useState6[1];function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setUserData(function(prevData){return _objectSpread(_objectSpread({},prevData),{},_defineProperty({},name,value));});setErrors(function(prevData){return _objectSpread(_objectSpread({},prevData),{},_defineProperty({},name,\"\"));});}function formIsValid(){var email=userData.email;var errors={};if(!email)errors.email=\"*Email is required\";setErrors(errors);return Object.keys(errors).length===0;}function handleSave(event){event.preventDefault();if(!formIsValid())return;setIsActive(true);Swal.fire({title:'Password Reset ! ',html:'Sending Password Reset Link, Please wait...',allowEscapeKey:false,allowOutsideClick:false,didOpen:function didOpen(){Swal.showLoading();}});API.forgot(userData).then(function(){setIsActive(false);Swal.fire({title:'Password Reset  ! ',text:'Password Reset Link has been Sent to Your Email, Please Check Your Email Inbox !  ',icon:'success',confirmButtonText:'OK',confirmButtonColor:'#007bff'}).then(function(){setUserData({email:\"\"});history.push(\"/login\");});}).catch(function(err){setIsActive(false);console.log(err.response.data);toast.error();Swal.fire({title:'Password Reset ! ',text:err.response.data.message,icon:'error',confirmButtonText:'OK',confirmButtonColor:'red'});});// setSaving(true);\n// saveCourse(course)\n//     .then(() => {\n//         toast.success(\"Course saved.\");\n//         history.push(\"/courses\");\n//     })\n//     .catch(error => {\n//         setSaving(false);\n//         setErrors({ onSave: error.message });\n//     });\n}return/*#__PURE__*/React.createElement(\"div\",{className:\"register-form\"},/*#__PURE__*/React.createElement(\"div\",{id:\"auth\"},/*#__PURE__*/React.createElement(\"div\",{class:\"row h-100 justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{class:\"col-lg-5 col-12\"},/*#__PURE__*/React.createElement(\"div\",{id:\"auth-left\",className:\"\"},/*#__PURE__*/React.createElement(\"h1\",{class:\"auth-title\"},\"Forgot Password\"),/*#__PURE__*/React.createElement(\"p\",{class:\"auth-subtitle mb-5\"},\"Input your email and we will send you reset password link.\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSave},/*#__PURE__*/React.createElement(\"div\",{class:\"form-group position-relative has-icon-left mb-4\"},/*#__PURE__*/React.createElement(\"input\",{type:\"email\",onChange:handleChange,value:userData.email,name:\"email\",class:\"form-control form-control-xl\",placeholder:\"Email\"}),/*#__PURE__*/React.createElement(\"div\",{class:\"form-control-icon\"},/*#__PURE__*/React.createElement(\"i\",{class:\"bi bi-envelope\"}))),errors.email?/*#__PURE__*/React.createElement(\"div\",{className:\"form-error\"},errors.email):null,/*#__PURE__*/React.createElement(\"button\",{disabled:isActive,type:\"submit\",class:\"btn btn-primary btn-block btn-lg shadow-lg mt-5\"},\"Reset Password \")),/*#__PURE__*/React.createElement(\"div\",{class:\"text-center mt-5 text-lg fs-4\"},/*#__PURE__*/React.createElement(\"p\",{class:\"text-gray-600\"},\"Remember your account ? \",/*#__PURE__*/React.createElement(\"a\",{onClick:function onClick(){return history.push('/login');},class:\"pointer font-bold\"},\"Log in\"),\".\")))))));}export default ForgotPassword;","map":{"version":3,"sources":["/Users/abdulmutaalazhar/Downloads/Quick-Mern-Project-heroku/client/src/components/forgot/Forgot.js"],"names":["React","useState","Form","Button","API","toast","Swal","BounceLoader","ForgotPassword","history","email","userData","setUserData","errors","setErrors","isActive","setIsActive","handleChange","event","target","name","value","prevData","formIsValid","Object","keys","length","handleSave","preventDefault","fire","title","html","allowEscapeKey","allowOutsideClick","didOpen","showLoading","forgot","then","text","icon","confirmButtonText","confirmButtonColor","push","catch","err","console","log","response","data","error","message"],"mappings":"4iBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,IAAT,CAAeC,MAAf,KAA6B,iBAA7B,CACA,MAAOC,CAAAA,GAAP,KAAgB,eAAhB,CACA,OAASC,KAAT,KAAsB,gBAAtB,CACA,MAAOC,CAAAA,IAAP,KAAiB,aAAjB,CACA,MAAOC,CAAAA,YAAP,KAAyB,0BAAzB,CACA,QAASC,CAAAA,cAAT,MAAqC,IAAXC,CAAAA,OAAW,MAAXA,OAAW,eACDR,QAAQ,CAAC,CAAES,KAAK,CAAE,EAAT,CAAD,CADP,wCAC1BC,QAD0B,eAChBC,WADgB,8BAELX,QAAQ,CAAC,EAAD,CAFH,yCAE1BY,MAF0B,eAElBC,SAFkB,8BAGFb,QAAQ,CAAC,KAAD,CAHN,yCAG1Bc,QAH0B,eAGjBC,WAHiB,eAKjC,QAASC,CAAAA,YAAT,CAAsBC,KAAtB,CAA6B,mBACDA,KAAK,CAACC,MADL,CACjBC,IADiB,eACjBA,IADiB,CACXC,KADW,eACXA,KADW,CAEzBT,WAAW,CAAC,SAAAU,QAAQ,wCACbA,QADa,wBAEfF,IAFe,CAERC,KAFQ,IAAT,CAAX,CAIAP,SAAS,CAAC,SAAAQ,QAAQ,wCACXA,QADW,wBAEbF,IAFa,CAEN,EAFM,IAAT,CAAT,CAIH,CACD,QAASG,CAAAA,WAAT,EAAuB,IACVb,CAAAA,KADU,CACAC,QADA,CACVD,KADU,CAEnB,GAAMG,CAAAA,MAAM,CAAG,EAAf,CAGA,GAAI,CAACH,KAAL,CAAYG,MAAM,CAACH,KAAP,CAAe,oBAAf,CAGZI,SAAS,CAACD,MAAD,CAAT,CACA,MAAOW,CAAAA,MAAM,CAACC,IAAP,CAAYZ,MAAZ,EAAoBa,MAApB,GAA+B,CAAtC,CACH,CAED,QAASC,CAAAA,UAAT,CAAoBT,KAApB,CAA2B,CAGvBA,KAAK,CAACU,cAAN,GAEA,GAAI,CAACL,WAAW,EAAhB,CAAoB,OACpBP,WAAW,CAAC,IAAD,CAAX,CACAV,IAAI,CAACuB,IAAL,CAAU,CACNC,KAAK,CAAE,mBADD,CAENC,IAAI,CAAE,6CAFA,CAGNC,cAAc,CAAE,KAHV,CAINC,iBAAiB,CAAE,KAJb,CAKNC,OAAO,CAAE,kBAAM,CACb5B,IAAI,CAAC6B,WAAL,GACD,CAPK,CAAV,EASA/B,GAAG,CAACgC,MAAJ,CAAWzB,QAAX,EACK0B,IADL,CACU,UAAM,CACRrB,WAAW,CAAC,KAAD,CAAX,CACAV,IAAI,CAACuB,IAAL,CAAU,CACNC,KAAK,CAAE,oBADD,CAENQ,IAAI,CAAE,oFAFA,CAGNC,IAAI,CAAE,SAHA,CAINC,iBAAiB,CAAE,IAJb,CAKNC,kBAAkB,CAAC,SALb,CAAV,EAMKJ,IANL,CAMU,UAAI,CACVzB,WAAW,CAAC,CAACF,KAAK,CAAE,EAAR,CAAD,CAAX,CACAD,OAAO,CAACiC,IAAR,CAAa,QAAb,EACD,CATH,EAUH,CAbL,EAcKC,KAdL,CAcW,SAACC,GAAD,CAAS,CACZ5B,WAAW,CAAC,KAAD,CAAX,CACA6B,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,QAAJ,CAAaC,IAAzB,EACA3C,KAAK,CAAC4C,KAAN,GACA3C,IAAI,CAACuB,IAAL,CAAU,CACNC,KAAK,CAAE,mBADD,CAENQ,IAAI,CAAEM,GAAG,CAACG,QAAJ,CAAaC,IAAb,CAAkBE,OAFlB,CAGNX,IAAI,CAAE,OAHA,CAINC,iBAAiB,CAAE,IAJb,CAKNC,kBAAkB,CAAC,KALb,CAAV,EAOH,CAzBL,EA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH,CAED,mBACI,2BAAK,SAAS,CAAC,eAAf,eACY,2BAAK,EAAE,CAAC,MAAR,eAEZ,2BAAK,KAAK,CAAC,kCAAX,eACI,2BAAK,KAAK,CAAC,iBAAX,eACG,2BAAK,EAAE,CAAC,WAAR,CAAoB,SAAS,CAAC,EAA9B,eACH,0BAAI,KAAK,CAAC,YAAV,oBADG,cAEH,yBAAG,KAAK,CAAC,oBAAT,+DAFG,cAIH,4BAAM,QAAQ,CAAEd,UAAhB,eACI,2BAAK,KAAK,CAAC,iDAAX,eACI,6BAAO,IAAI,CAAC,OAAZ,CAAqB,QAAQ,CAAEV,YAA/B,CAA6C,KAAK,CAAEN,QAAQ,CAACD,KAA7D,CAAoE,IAAI,CAAC,OAAzE,CAAiF,KAAK,CAAC,8BAAvF,CAAsH,WAAW,CAAC,OAAlI,EADJ,cAEI,2BAAK,KAAK,CAAC,mBAAX,eACI,yBAAG,KAAK,CAAC,gBAAT,EADJ,CAFJ,CADJ,CAOKG,MAAM,CAACH,KAAP,cAAe,2BAAK,SAAS,CAAC,YAAf,EAA6BG,MAAM,CAACH,KAApC,CAAf,CAAkE,IAPvE,cAQI,8BAAQ,QAAQ,CAAEK,QAAlB,CAA4B,IAAI,CAAC,QAAjC,CAA0C,KAAK,CAAC,iDAAhD,oBARJ,CAJG,cAcH,2BAAK,KAAK,CAAC,+BAAX,eACI,yBAAG,KAAK,CAAC,eAAT,0CAAiD,yBAAG,OAAO,CAAE,yBAAKN,CAAAA,OAAO,CAACiC,IAAR,CAAa,QAAb,CAAL,EAAZ,CAAyC,KAAK,CAAC,mBAA/C,WAAjD,KADJ,CAdG,CADH,CADJ,CAFY,CADZ,CADJ,CAuDH,CAED,cAAelC,CAAAA,cAAf","sourcesContent":["import React, { useState } from 'react';\nimport { Form, Button } from 'react-bootstrap';\nimport API from \"../../api/api\";\nimport { toast } from \"react-toastify\";\nimport Swal from 'sweetalert2'\nimport BounceLoader from 'react-spinners/DotLoader'\nfunction ForgotPassword({ history }) {\n    const [userData, setUserData] = useState({ email: \"\"});\n    const [errors, setErrors] = useState({});\n    const [isActive,setIsActive] = useState(false);\n\n    function handleChange(event) {\n        const { name, value } = event.target;\n        setUserData(prevData => ({\n            ...prevData,\n            [name]: value\n        }));\n        setErrors(prevData => ({\n            ...prevData,\n            [name]: \"\"\n        }));\n    }\n    function formIsValid() {\n        const {  email } = userData;\n        const errors = {};\n\n    \n        if (!email) errors.email = \"*Email is required\";\n    \n\n        setErrors(errors);\n        return Object.keys(errors).length === 0;\n    }\n   \n    function handleSave(event) {\n       \n       \n        event.preventDefault();\n       \n        if (!formIsValid()) return;\n        setIsActive(true)\n        Swal.fire({\n            title: 'Password Reset ! ',\n            html: 'Sending Password Reset Link, Please wait...',\n            allowEscapeKey: false,\n            allowOutsideClick: false,\n            didOpen: () => {\n              Swal.showLoading()\n            }\n          });\n        API.forgot(userData)\n            .then(() => {\n                setIsActive(false)\n                Swal.fire({\n                    title: 'Password Reset  ! ',\n                    text: 'Password Reset Link has been Sent to Your Email, Please Check Your Email Inbox !  ' ,\n                    icon: 'success',\n                    confirmButtonText: 'OK',\n                    confirmButtonColor:'#007bff'\n                  }).then(()=>{\n                    setUserData({email: \"\" });\n                    history.push(\"/login\");\n                  })\n            })\n            .catch((err) => {\n                setIsActive(false)\n                console.log(err.response.data);\n                toast.error()\n                Swal.fire({\n                    title: 'Password Reset ! ',\n                    text: err.response.data.message ,\n                    icon: 'error',\n                    confirmButtonText: 'OK',\n                    confirmButtonColor:'red'\n                  })\n            })\n        // setSaving(true);\n        // saveCourse(course)\n        //     .then(() => {\n        //         toast.success(\"Course saved.\");\n        //         history.push(\"/courses\");\n        //     })\n        //     .catch(error => {\n        //         setSaving(false);\n        //         setErrors({ onSave: error.message });\n        //     });\n    }\n\n    return (\n        <div className=\"register-form\">\n                    <div id=\"auth\">\n        \n        <div class=\"row h-100 justify-content-center\">\n            <div class=\"col-lg-5 col-12\">\n               <div id=\"auth-left\" className=''>\n            <h1 class=\"auth-title\">Forgot Password</h1>\n            <p class=\"auth-subtitle mb-5\">Input your email and we will send you reset password link.</p>\n\n            <form onSubmit={handleSave}>\n                <div class=\"form-group position-relative has-icon-left mb-4\">\n                    <input type=\"email\"  onChange={handleChange} value={userData.email} name='email' class=\"form-control form-control-xl\" placeholder=\"Email\" />\n                    <div class=\"form-control-icon\">\n                        <i class=\"bi bi-envelope\"></i>\n                    </div>\n                </div>\n                {errors.email ? <div className=\"form-error\">{errors.email}</div> : null}\n                <button disabled={isActive} type='submit' class=\"btn btn-primary btn-block btn-lg shadow-lg mt-5\">Reset Password </button>\n            </form>\n            <div class=\"text-center mt-5 text-lg fs-4\">\n                <p class='text-gray-600'>Remember your account ? <a onClick={()=> history.push('/login')} class=\"pointer font-bold\">Log in</a>.\n                </p>\n            </div>\n            </div>\n              {/* {isActive ?  <div className='loading-spinner'> <img width=\"90\" src=\"loading.gif\"/>  </div>: <div className='loading-spinner'></div>}\n            <br/>\n            <h3>Forgot Account Password ?  </h3>\n            <hr/>\n            <Form onSubmit={handleSave}>\n                \n                <Form.Group controlId=\"formBasicEmail\">\n                    <Form.Label>Enter Your Email address</Form.Label>\n                    <Form.Control\n                        type=\"email\"\n                        placeholder=\"\"\n                        name=\"email\"\n                        value={userData.email}\n                        onChange={handleChange}\n                    />\n                    {errors.email ? <div className=\"form-error\">{errors.email}</div> : null}\n                </Form.Group>\n               \n              \n               \n                <Button variant=\"primary\" type=\"submit\">\n                    Reset Password \n                </Button>\n            </Form>\n            <br/> */}\n                    </div>\n                </div>\n           </div>\n        </div>\n    )\n}\n\nexport default ForgotPassword;\n"]},"metadata":{},"sourceType":"module"}